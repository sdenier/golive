<!doctype html>
<html ng-app="golive">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GoLive</title>
    <link rel="stylesheet" href="vendor.css">
    <link rel="stylesheet" href="app.css">
  </head>

  <body ng-controller="MainCtrl" ng-cloak>

    <header class="row">
      <div class="small-5 columns collapse">
        <h3 class="subheader">{{ stage.name }}</h3>
      </div>
      <div class="small-5 columns">
        <h3>RÃ©sultats {{ stage.lastTime | date:'H:mm:ss' }}</h3>
      </div>
      <div class="small-1 columns">
        <a ng-click="configHidden = !configHidden" class="label secondary"><i class="fi fi-widget"></i></a>
      </div>
      <div class="small-1 columns">
        <em>GoLive</em>
      </div>
    </header>

    <div class="config-container" ng-hide="configHidden">
      <ng-include src="'views/config.html'"></ng-include>
    </div>

    <div class="row fullwidth">
      <div ng-repeat="result in columnResults() track by result.name" class="small-3 columns result" ng-class="{end: $last}">
        <div class="row result-info">
          <h2 class="small-7 columns">{{ result.name }}</h2>
          <h2 class="small-5 columns subheader text-right">{{ result.finishCount }} / {{ result.presentCount }}</h2>
        </div>
        <div class="result-results" ng-style="{height: columns.height + 'px'}">
          <div class="result-runners" gl-auto-scroll="$index">
            <div class="runners-ranked">
              <div ng-repeat="runner in result.rankedRunners track by runner.id" class="row collapse runner-ranked">
                <div class="small-1 columns runner-rank">{{ runner.rank }}</div>
                <div class="small-8 columns runner-name">{{ runner.firstName }} {{ runner.lastName }}</div>
                <div class="small-2 columns end runner-time">{{ runner.finishTime | date:'H:mm:ss':'UTC' }}</div>
              </div>
            </div>
            <hr>
            <div class="runners-unranked">
              <div ng-repeat="runner in result.unrankedRunners track by runner.id" class="row collapse runner-unranked">
                <div class="small-1 columns runner-rank">{{ runner.rank || '&nbsp;' }}</div>
                <div class="small-8 columns runner-name">{{ runner.firstName }} {{ runner.lastName }}</div>
                <div class="small-2 columns end runner-status">{{ runner.status }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="vendor.js"></script>
    <script src="app.js"></script>
  </body>
</html>
