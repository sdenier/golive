<!doctype html>
<html ng-app="golive">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <script>
            // Enable Brunch HTML/CSS Auto Reload
            window.brunch = window.brunch || {};
        </script>

        <link rel="stylesheet" href="app.css">
    </head>

    <body ng-controller="MainCtrl" ng-cloak>
        <header>
            <h1>GoLive {{ stageName }}</h1>
            <div>Derniers r√©sultats {{ lastTime | date:'H:mm:ss' }}</div>
            <button ng-click="refresh()">Refresh</button>
            <button ng-click="start()">Start</button>
            <button ng-click="stop()">Stop</button>
            <span>{{ pollingStatus }}</span>
        </header>
        <div ng-repeat="result in results track by result.name" class="result">
            <div class="result-info">
                <div>{{ result.name }}</div>
                <div>{{ result.finishCount }} / {{ result.presentCount }}</div>
            </div>
            <div class="result-results">
                <div class="result-runners" gl-auto-scroll="$index">
                    <div class="runners-ranked">
                        <div ng-repeat="runner in result.rankedRunners track by runner.id" class="runner-ranked">
                            <span>{{ runner.rank }}</span>
                            <span>{{ runner.firstName }} {{ runner.lastName }}</span>
                            <span>{{ runner.finishTime | date:'H:mm:ss':'UTC' }}</span>
                        </div>
                    </div>
                    <hr>
                    <div class="runners-unranked">
                        <div ng-repeat="runner in result.unrankedRunners track by runner.id" class="runner-unranked">
                            <span>{{ runner.firstName }} {{ runner.lastName }}</span>
                            <span>{{ runner.status }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="vendor.js"></script>
        <script src="app.js"></script>
        <script>require('app').init();</script>
    </body>
</html>
